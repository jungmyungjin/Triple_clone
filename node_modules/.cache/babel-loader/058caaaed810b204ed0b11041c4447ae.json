{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = require(\"react\");\n\nvar _reactDom = require(\"react-dom\");\n\nvar _constants = require(\"./constants\");\n\nvar useInViewport = function useInViewport(target, options, config, props) {\n  if (options === void 0) {\n    options = _constants.defaultOptions;\n  }\n\n  if (config === void 0) {\n    config = _constants.defaultConfig;\n  }\n\n  if (props === void 0) {\n    props = _constants.defaultProps;\n  }\n\n  var {\n    onEnterViewport,\n    onLeaveViewport\n  } = props;\n  var [, forceUpdate] = (0, _react.useState)();\n  var observer = (0, _react.useRef)();\n  var inViewportRef = (0, _react.useRef)(false);\n  var intersected = (0, _react.useRef)(false);\n  var enterCountRef = (0, _react.useRef)(0);\n  var leaveCountRef = (0, _react.useRef)(0);\n\n  function startObserver(_ref) {\n    var {\n      observerRef\n    } = _ref;\n    var targetRef = target.current;\n\n    if (targetRef) {\n      var node = (0, _reactDom.findDOMNode)(targetRef);\n\n      if (node) {\n        observerRef == null ? void 0 : observerRef.observe(node);\n      }\n    }\n  }\n\n  function stopObserver(_ref2) {\n    var {\n      observerRef\n    } = _ref2;\n    var targetRef = target.current;\n\n    if (targetRef) {\n      var node = (0, _reactDom.findDOMNode)(targetRef);\n\n      if (node) {\n        observerRef == null ? void 0 : observerRef.unobserve(node);\n      }\n    }\n\n    observerRef == null ? void 0 : observerRef.disconnect();\n    observer.current = null;\n  }\n\n  function handleIntersection(entries) {\n    var entry = entries[0] || {};\n    var {\n      isIntersecting,\n      intersectionRatio\n    } = entry;\n    var isInViewport = typeof isIntersecting !== 'undefined' ? isIntersecting : intersectionRatio > 0; // enter\n\n    if (!intersected.current && isInViewport) {\n      intersected.current = true;\n      onEnterViewport == null ? void 0 : onEnterViewport();\n      enterCountRef.current += 1;\n      inViewportRef.current = isInViewport;\n      forceUpdate(isInViewport);\n      return;\n    } // leave\n\n\n    if (intersected.current && !isInViewport) {\n      intersected.current = false;\n      onLeaveViewport == null ? void 0 : onLeaveViewport();\n\n      if (config.disconnectOnLeave && observer.current) {\n        // disconnect obsever on leave\n        observer.current.disconnect();\n      }\n\n      leaveCountRef.current += 1;\n      inViewportRef.current = isInViewport;\n      forceUpdate(isInViewport);\n    }\n  }\n\n  function initIntersectionObserver(_ref3) {\n    var {\n      observerRef\n    } = _ref3;\n\n    if (!observerRef) {\n      observer.current = new IntersectionObserver(handleIntersection, options);\n      return observer.current;\n    }\n\n    return observerRef;\n  }\n\n  (0, _react.useEffect)(() => {\n    var observerRef = observer.current; // https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n\n    observerRef = initIntersectionObserver({\n      observerRef\n    });\n    startObserver({\n      observerRef\n    });\n    return () => {\n      stopObserver({\n        observerRef\n      });\n    };\n  }, [target.current, options, config, onEnterViewport, onLeaveViewport]);\n  return {\n    inViewport: inViewportRef.current,\n    enterCount: enterCountRef.current,\n    leaveCount: leaveCountRef.current\n  };\n};\n\nvar _default = useInViewport;\nexports.default = _default;","map":{"version":3,"sources":["/Users/jungmyungjin/Workspace/GIT_HUB/Triple_clone/node_modules/react-in-viewport/dist/es/lib/useInViewport.js"],"names":["exports","__esModule","default","_react","require","_reactDom","_constants","useInViewport","target","options","config","props","defaultOptions","defaultConfig","defaultProps","onEnterViewport","onLeaveViewport","forceUpdate","useState","observer","useRef","inViewportRef","intersected","enterCountRef","leaveCountRef","startObserver","_ref","observerRef","targetRef","current","node","findDOMNode","observe","stopObserver","_ref2","unobserve","disconnect","handleIntersection","entries","entry","isIntersecting","intersectionRatio","isInViewport","disconnectOnLeave","initIntersectionObserver","_ref3","IntersectionObserver","useEffect","inViewport","enterCount","leaveCount","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = require(\"react\");\n\nvar _reactDom = require(\"react-dom\");\n\nvar _constants = require(\"./constants\");\n\nvar useInViewport = function useInViewport(target, options, config, props) {\n  if (options === void 0) {\n    options = _constants.defaultOptions;\n  }\n\n  if (config === void 0) {\n    config = _constants.defaultConfig;\n  }\n\n  if (props === void 0) {\n    props = _constants.defaultProps;\n  }\n\n  var {\n    onEnterViewport,\n    onLeaveViewport\n  } = props;\n  var [, forceUpdate] = (0, _react.useState)();\n  var observer = (0, _react.useRef)();\n  var inViewportRef = (0, _react.useRef)(false);\n  var intersected = (0, _react.useRef)(false);\n  var enterCountRef = (0, _react.useRef)(0);\n  var leaveCountRef = (0, _react.useRef)(0);\n\n  function startObserver(_ref) {\n    var {\n      observerRef\n    } = _ref;\n    var targetRef = target.current;\n\n    if (targetRef) {\n      var node = (0, _reactDom.findDOMNode)(targetRef);\n\n      if (node) {\n        observerRef == null ? void 0 : observerRef.observe(node);\n      }\n    }\n  }\n\n  function stopObserver(_ref2) {\n    var {\n      observerRef\n    } = _ref2;\n    var targetRef = target.current;\n\n    if (targetRef) {\n      var node = (0, _reactDom.findDOMNode)(targetRef);\n\n      if (node) {\n        observerRef == null ? void 0 : observerRef.unobserve(node);\n      }\n    }\n\n    observerRef == null ? void 0 : observerRef.disconnect();\n    observer.current = null;\n  }\n\n  function handleIntersection(entries) {\n    var entry = entries[0] || {};\n    var {\n      isIntersecting,\n      intersectionRatio\n    } = entry;\n    var isInViewport = typeof isIntersecting !== 'undefined' ? isIntersecting : intersectionRatio > 0; // enter\n\n    if (!intersected.current && isInViewport) {\n      intersected.current = true;\n      onEnterViewport == null ? void 0 : onEnterViewport();\n      enterCountRef.current += 1;\n      inViewportRef.current = isInViewport;\n      forceUpdate(isInViewport);\n      return;\n    } // leave\n\n\n    if (intersected.current && !isInViewport) {\n      intersected.current = false;\n      onLeaveViewport == null ? void 0 : onLeaveViewport();\n\n      if (config.disconnectOnLeave && observer.current) {\n        // disconnect obsever on leave\n        observer.current.disconnect();\n      }\n\n      leaveCountRef.current += 1;\n      inViewportRef.current = isInViewport;\n      forceUpdate(isInViewport);\n    }\n  }\n\n  function initIntersectionObserver(_ref3) {\n    var {\n      observerRef\n    } = _ref3;\n\n    if (!observerRef) {\n      observer.current = new IntersectionObserver(handleIntersection, options);\n      return observer.current;\n    }\n\n    return observerRef;\n  }\n\n  (0, _react.useEffect)(() => {\n    var observerRef = observer.current; // https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n\n    observerRef = initIntersectionObserver({\n      observerRef\n    });\n    startObserver({\n      observerRef\n    });\n    return () => {\n      stopObserver({\n        observerRef\n      });\n    };\n  }, [target.current, options, config, onEnterViewport, onLeaveViewport]);\n  return {\n    inViewport: inViewportRef.current,\n    enterCount: enterCountRef.current,\n    leaveCount: leaveCountRef.current\n  };\n};\n\nvar _default = useInViewport;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}